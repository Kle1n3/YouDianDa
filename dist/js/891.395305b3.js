"use strict";(self["webpackChunkydd"]=self["webpackChunkydd"]||[]).push([[891],{934:function(t,e,i){i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"articleItem-container",on:{click:t.toArtDetails}},[e("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"custom-title van-multi-ellipsis--l2"},[t._v(t._s(t.articleItem.title))])]},proxy:!0},{key:"label",fn:function(){return[e("div",[e("span",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(t.articleItem.description))]),e("span",[e("van-icon",{attrs:{name:"star-o"}}),t._v(" 收藏 ("+t._s(t.articleItem.lovenum)+") ")],1),e("span",[e("van-icon",{attrs:{name:"good-job-o"}}),t._v(" 点赞 ("+t._s(t.articleItem.click)+") ")],1)])]},proxy:!0},{key:"default",fn:function(){return[e("van-image",{attrs:{height:"100px",fit:"cover",src:"http://124.223.14.236:8060/"+t.articleItem.pic}})]},proxy:!0}])})],1)},a=[],s={name:"YddArticleItem",props:{articleItem:{type:Object,required:!0}},data(){return{}},mounted(){},methods:{toArtDetails(){this.$router.push({path:"/details",query:{id:this.articleItem.id}})}}},r=s,l=i(1001),o=(0,l.Z)(r,n,a,!1,null,"81a5e78a",null),c=o.exports},2736:function(t,e,i){i.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{staticClass:"swipecell",attrs:{square:"",type:"danger",text:t.options},on:{click:function(e){return t.$emit("edit",t.listItem.id)}}}),"我的文章"===t.title?e("van-button",{staticClass:"swipecell",attrs:{square:"",type:"primary",text:"修改"},on:{click:t.toRelease}}):t._e()]},proxy:!0}])},[e("ArticleItem",{attrs:{articleItem:t.listItem}})],1)},a=[],s=i(934),r={name:"List-item",components:{ArticleItem:s.Z},props:{listItem:{type:Object,required:!0}},data(){return{title:this.$route.meta.title}},computed:{options(){return"我的点赞"===this.title?"取消点赞":"我的收藏"===this.title?"取消收藏":"删除"}},mounted(){},methods:{toRelease(){this.$router.push({path:"/release",query:{id:this.listItem.id}})}}},l=r,o=i(1001),c=(0,o.Z)(l,n,a,!1,null,"47e3bece",null),u=c.exports},2891:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(i){return e("ListItem",{key:i.id,attrs:{listItem:i},on:{edit:t.deleteArticle}})})),1)},a=[],s=i(2736),r=i(9598),l={name:"MyLikes",components:{ListItem:s.Z},data(){return{list:[],loading:!1,finished:!1,page:1,limit:10}},created(){this.initData()},methods:{async initData(){try{const{data:t}=await(0,r.St)({page:this.page,limit:this.limit});this.list=t.data.data}catch(t){console.log(t)}},async onLoad(){try{this.page++;const{data:t}=await(0,r.St)({page:this.page,limit:this.limit});if(this.list.push(...t.data.data),this.loading=!1,t.data.data.length<this.limit)return this.finished=!0}catch(t){console.log(t)}},async deleteArticle(t){try{await(0,r.uy)({id:t}),this.$toast.success("删除成功");const e=this.list.findIndex((e=>e.id===t));this.list.splice(e,1)}catch(e){console.log(e)}}}},o=l,c=i(1001),u=(0,c.Z)(o,n,a,!1,null,"7aa7eef5",null),d=u.exports},9598:function(t,e,i){i.d(e,{MW:function(){return s},St:function(){return o},cA:function(){return l},jI:function(){return a},n6:function(){return r},uy:function(){return c}});var n=i(4471);const a=()=>(0,n.Z)({method:"get",url:"/home/user/getUserInfo"}),s=t=>(0,n.Z)({method:"POST",url:"/home/common/upload",params:{type:"images"},data:t}),r=t=>(0,n.Z)({method:"POST",url:"/home/user/update",data:t}),l=t=>(0,n.Z)({url:"/home/user/userDataList",params:t}),o=t=>(0,n.Z)({url:"/home/user/myArticle",params:t}),c=t=>(0,n.Z)({url:"/home/user/delArticle",params:t})}}]);