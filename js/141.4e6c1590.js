"use strict";(self["webpackChunkydd"]=self["webpackChunkydd"]||[]).push([[141],{934:function(t,i,a){a.d(i,{Z:function(){return o}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"articleItem-container",on:{click:t.toArtDetails}},[i("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"custom-title van-multi-ellipsis--l2"},[t._v(t._s(t.articleItem.title))])]},proxy:!0},{key:"label",fn:function(){return[i("div",[i("span",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(t.articleItem.description))]),i("span",[i("van-icon",{attrs:{name:"star-o"}}),t._v(" 收藏 ("+t._s(t.articleItem.lovenum)+") ")],1),i("span",[i("van-icon",{attrs:{name:"good-job-o"}}),t._v(" 点赞 ("+t._s(t.articleItem.click)+") ")],1)])]},proxy:!0},{key:"default",fn:function(){return[i("van-image",{attrs:{height:"100px",fit:"cover",src:"http://124.223.14.236:8060/"+t.articleItem.pic}})]},proxy:!0}])})],1)},n=[],s={name:"YddArticleItem",props:{articleItem:{type:Object,required:!0}},data(){return{}},mounted(){},methods:{toArtDetails(){this.$router.push({path:"/details",query:{id:this.articleItem.id}})}}},l=s,c=a(1001),r=(0,c.Z)(l,e,n,!1,null,"81a5e78a",null),o=r.exports},9141:function(t,i,a){a.r(i),a.d(i,{default:function(){return _}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"list-container"},[i("van-nav-bar",{attrs:{title:t.cateList[t.active].catename,fixed:"",placeholder:"","left-arrow":""},on:{"click-left":function(i){return t.$router.back()}}}),i("van-tabs",{attrs:{animated:"",swipeable:"",sticky:"","offset-top":"46px"},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.cateList,(function(t){return i("van-tab",{key:t.id,attrs:{title:t.catename}},[i("ArticleList",{attrs:{cateId:t.id}})],1)})),1)],1)},n=[],s=a(7095),l=function(){var t=this,i=t._self._c;return i("div",{staticClass:"articleList-container"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(t){return i("ArticleItem",{key:t.id,attrs:{articleItem:t}})})),1)],1)},c=[],r=a(934),o=a(4471);const d=t=>(0,o.Z)({url:"/home/index/list",params:t});var u={name:"YddArticleList",components:{ArticleItem:r.Z},props:{cateId:{type:Number,required:!0}},data(){return{list:[],loading:!1,finished:!1,page:1,limit:20}},created(){this.initData()},methods:{async initData(){try{const{data:t}=await d({page:this.page,limit:this.limit,cateid:this.cateId});this.list=t.data.list.data}catch(t){console.log(t)}},async onLoad(){try{this.page++;const{data:t}=await d({page:this.page,limit:this.limit,cateid:this.cateId});if(t.data.list.data.length<this.limit)return this.finished=!0;this.loading=!1,this.list.push(...t.data.list.data)}catch(t){console.log(t)}}}},h=u,p=a(1001),m=(0,p.Z)(h,l,c,!1,null,"032df2cb",null),f=m.exports,v={name:"List",components:{ArticleList:f},data(){return{active:1*this.$route.query.index,cateList:[]}},created(){this.initData()},methods:{async initData(){try{const{data:t}=await(0,s.w)();console.log(t),this.cateList=t.data.allCate}catch(t){console.log(t)}}}},y=v,g=(0,p.Z)(y,e,n,!1,null,"d3869964",null),_=g.exports},7095:function(t,i,a){a.d(i,{w:function(){return n}});var e=a(4471);const n=()=>(0,e.Z)({url:"/home/index/index"})}}]);