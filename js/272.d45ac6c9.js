"use strict";(self["webpackChunkydd"]=self["webpackChunkydd"]||[]).push([[272],{9272:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-box"},[t("van-nav-bar",{attrs:{title:e.$route.meta.title,"left-arrow":""},on:{"click-left":function(t){return e.$router.back(1)}}}),t("h1",{staticClass:"title"},[e._v("优点达资讯")]),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"用户名",label:"用户名","left-icon":"manager",placeholder:"用户名",rules:e.rules.mobile},model:{value:e.userInfo.mobile,callback:function(t){e.$set(e.userInfo,"mobile",t)},expression:"userInfo.mobile"}}),t("van-field",{attrs:{type:"password",name:"密码",label:"密码","left-icon":"warning",placeholder:"密码",rules:e.rules.password},model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1),t("div",{staticClass:"reg"},[t("router-link",{attrs:{to:"/reg"}},[e._v("没有账号,立即注册")])],1)],1)},r=[],o=s(4471);const n=e=>(0,o.Z)({method:"post",url:"/home/index/login",data:e});var l=s(3822),i={data(){return{userInfo:{mobile:"",password:""},rules:{mobile:[{required:!0,message:"请输入手机号码"},{pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,message:"请输入正确的手机号码"}],password:[{required:!0,message:"请填写密码"},{pattern:/^[a-zA-Z]\w{5,17}$/,message:"密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线"}]}}},methods:{...(0,l.OI)(["getUserToken"]),async onSubmit(){this.$toast.loading({message:"登录中...",forbidClick:!0,duration:0});try{const{data:e}=await n(this.userInfo);console.log(e),this.getUserToken(e.data),this.$toast.success(e.errmsg)}catch(t){console.log(t)}this.$toast.clear();const e=this.$route.query.url;e?this.$router.replace(e):this.$router.push({path:"/my"})}}},u=i,c=s(1001),d=(0,c.Z)(u,a,r,!1,null,"2b5cf9a7",null),f=d.exports}}]);